Блоки
==========

| Метод | Описание | OA2 |
| ----- | -------- |:---:|
| [GET /blocks/](blocks.md#get-blocks) | Список изменений блоков. | - |
| [GET /blocks/location/](blocks.md#get-blockslocation) | Список изменений блоков в указанных координатах. | - |
| [GET /blocks/player/:player/](blocks.md#get-blocksplayerplayer) | Список блоков, установленных игроком| - |

# ``` GET /blocks/ ```
Список изменений блоков.

### Параметры запроса

| Параметр | Необходимость | Пояснение |
| --------- | ------------- | --------- |
| offset    | Опционально.  | Начало выборки блоков. |
| world     | Опционально.  | Игровой мир. |
| type      | Опционально.  | 0 - только сломанные блоки. 1 - только поставленные блоки. |
| id        | Опционально.  | Поиск операций по указанному id блока. |
| data      | Опционально.  | Поиск операций по указанной метаданной блока. |

### Пример запроса

``` 
http://api.ensemplix.ru/v2/blocks/?world=Sandbox
```

### Пример ответа 
```json 
{"blocks":[{
   "id":83009484,
   "player":"Ruslan7227",
   "block":4,
   "data":0,
   "x":2909,
   "y":69,
   "z":1896,
   "world":"Sandbox",
   "created":1389531324,
   "type":1
   }]
}
```

### Пояснение параметров ответа
| Параметры | Пояснение |
| --------- | --------- |
| id        | Уникальный идентификатор блока. |
| player    | Игровой ник. |
| block     | Id блока. |
| data      | Метаданная блока. |
| x         | Координата по оси X. |
| y         | Координата по оси Y. |
| z         | Координата по оси Z. |
| created   | Время, когда был изменен блок, в unix timestamp формате. |
| type      | 0 - сломали блок, 1 - поставили блок. |

### Возможные ошибки
| Ошибка | Пояснение |
| ------ | --------- |
| No blocks found. | Записей изменений по указанным данным нет. |


# ``` GET /blocks/location/ ``` 
Список изменений в указанных координатах. Показывает как установленные блоки, так и блоки, которые были установлены.

### Параметры запроса

| Параметр | Необходимость | Пояснение |
| --------- | ------------- | --------- |
| x         | Обязательно.  | Координата по оси X. |
| z         | Обязательно.  | Координата по оси Z. |
| world     | Обязательно.  | Игровой мир. |
| y         | Опционально.  | Координата по оси Y. |
| offset    | Опционально.  | Начало выборки блоков. |
| type      | Опционально.  | 0 - только сломанные блоки. 1 - только поставленные блоки. |
| id        | Опционально.  | Поиск операций по указанному id блока. |
| data      | Опционально.  | Поиск операций по указанной метаданной блока. |
| limit     | Опционально.  | Максимальное количество записей в ответе (но не более 100). |
| no_count  | Опционально.  | Отключение подсчёта количества операций. |


### Пример запроса
``` 
http://api.ensemplix.ru/v2/blocks/location/?x=0&z=0&world=Sandbox
```
### Пример ответа 
```json 
{"blocks":[{
      "id":62463937,
      "player":"Ibragim091986",
      "block":138,
      "data":0,
      "x":0,
      "y":7,
      "z":0,
      "world":"Sandbox",
      "created":1388867585,
      "type":0}]
}
```

### Пояснение параметров ответа
| Параметры | Пояснение |
| --------- | --------- |
| id        | Уникальный идентификатор блока. |
| player    | Игровой ник. |
| block     | Id блока. |
| data      | Мета-данная блока. |
| x         | Координата по оси X. |
| y         | Координата по оси Y. |
| z         | Координата по оси Z. |
| created   | Время, когда был изменен блок, в unix timestamp формате. |
| type      | 0 - сломали блок, 1 - поставили блок. |

### Возможные ошибки
| Ошибка | Пояснение |
| ------ | --------- |
| No blocks found. | Записей изменений по указанным координатам нет. |
| Please provide X coordinate. | Необходимо указать координату по оси X. |
| Please provide Z coordinate. | Необходимо указать координату по оси Z. |
| Please provide world. | Необходимо указать игровой мир. |

# ``` GET /blocks/player/:player/ ``` 

| Параметр | Необходимость | Пояснение |
| --------- | ------------- | --------- |
| player    | Обязательно.  | Игровой ник. |
| offset    | Опционально.  | Начало выборки блоков. |
| world     | Опционально.  | Игровой мир. |
| type      | Опционально.  | 0 - только сломанные блоки. 1 - только поставленные блоки. |
| id        | Опционально.  | Поиск операций по указанному id блока. |
| data      | Опционально.  | Поиск операций по указанной метаданной блока. |

### Пример запроса

``` 
http://api.ensemplix.ru/v2/blocks/player/Ruslan7227/
```

### Пример ответа 
```json 
{"blocks":[{
   "id":83009484,
   "player":"Ruslan7227",
   "block":4,
   "data":0,
   "x":2909,
   "y":69,
   "z":1896,
   "world":"Sandbox",
   "created":1389531324,
   "type":1
   }]
}
```

### Пояснение параметров ответа
| Параметры | Пояснение |
| --------- | --------- |
| id        | Уникальный идентификатор блока. |
| player    | Игровой ник. |
| block     | Id блока. |
| data      | Мета-данная блока. |
| x         | Координата по оси X. |
| y         | Координата по оси Y. |
| z         | Координата по оси Z. |
| created   | Время, когда был изменен блок, в unix timestamp формате. |
| type      | 0 - сломали блок, 1 - поставили блок. |

### Возможные ошибки
| Ошибка | Пояснение |
| ------ | --------- |
| Please provide player. | Укажите ник игрока. |
| No blocks found. | Записей изменений по указанным координатам нет. |
