Сервер
==========

| Метод | Описание | OA2 |
| ----- | -------- |:---:|
| [GET /server/game/](server.md#get-servergame) | Информация о игровых серверах. | - |
| [GET /server/bans/](server.md#get-serverbans) | Список забаненных игроков. | - |
| [GET /server/news/](server.md#get-servernews) | Новости сервера. | - |
| [GET /server/launcher/](server.md#get-serverlauncher) | Версия лаунчера. | - |
| [GET /server/bundle/](server.md#get-serverbundle) | Версия основного плагина. | - |

# ``` GET /server/game/ ``` 
Информация о игровых серверах. Обновление информации о статусе и игроках происходит раз в минуту.

### Параметры

Параметры не нужны.

### Пример запроса
``` 
http://api.ensemplix.ru/v2/server/game/
```
### Пример ответа 
```json 
{
    "id":1,
    "name":"Sandbox",
    "players":67,
    "maximum":100,
    "online":true,
    "ip":"sv1.ensemplix.ru",
    "port":25565,
    "server_type":"classic",
    "world":"Sandbox",
    "map":"http://map.ensemplix.ru",
    "folder":"old",
    "server_version":"1.5.2",
    "client_version":"1.1",
    "download":"http://96922.selcdn.ru/Ensemplix/old.zip"
}
```
### Пояснение параметров ответа
| Параметры | Пояснение |
| --------- | --------- |
| id        | Уникальный индификатор сервера. |
| name      | Название сервера. |
| players   | Игроков на сервере. |
| maximum   | Максимальное количество игроков на спавне. |
| online    | Статус сервера. true - доступен. false - не доступен. |
| ip        | Адрес на котором работает сервер. |
| port      | Порт на котором работает сервер. |
| server_type | Тип сервера. |
| world | Основной мир на сервере. | 
| map | Онлайн карта сервера. |
| folder | Папка в которой находится игровой клиент сервера. |
| server_version | Версия сервера. |
| client_version | Версия клиента. |
| download | Ссылка для скачивания клиента. |

# ``` GET /server/bans/ ``` 
Список забаненных игроков на сервере.

### Параметры
| Параметры | Необходимость | Пояснение |
| --------- | ------------- | --------- |
| offset    | Опционально.  | Начало от куда делать выборку событий. По умолчанию 0. |

### Пример запроса
``` 
http://api.ensemplix.ru/v2/server/bans/
```
### Пример ответа 
```json 
{"bans":[{
    "id":16207,
    "till":-1,
    "player":"wzwzwzw",
    "reason":"3.2 мульт renenr2",
    "admin":"SAURONoff",
    "created":1389551415
  },{
    "id":16206,
    "till":-1,
    "player":"jana",
    "reason":"3.6",
    "admin":"Ibragim091986",
    "created":1389550129
   }]
}
```
### Пояснение параметров ответа
| Параметры | Пояснение |
| --------- | --------- |
| id        | Уникальный индификатор бана.
| player    | Забаненный игрок.  |
| reason    | Причина блокировки. |
| admin     | Админ который забанил игрока. |
| till      | Время в unix timestamp когда игрок будет разбанен. Если -1, то забаненен навсегда. |

### Возможные ошибки
| Ошибка | Пояснение |
| ------ | --------- |
| No bans found. | Записей изменений по указанным данным нет. |

# ``` GET /server/news/ ``` 
Последние 5 новостей сервера.
### Параметры
Параметры не нужны.

### Пример запроса
``` 
http://api.ensemplix.ru/v2/server/news/
```
### Пример ответа 
```json 
{
    {
         "id":"161",
         "header":"Переход на 1.5.2",
         "text":"Дорогие игроки нашего сервера! Рады сообщить вам, что почти все наши сервера успешно обновлены до версии 1.5.2.! К сожалению, мы не смогли перевести только Amber и Dedal, поскольку мода Divine RPG для 1.5.2 еще нет. ",
         "created":"1333118988",
         "views":"14279",
         "comments":"187"
    },
    {
         "id":"160",
         "header":"Отчет",
         "text":"Мы обещали, что как только будем уверены в стабильности серверов, мы тут же напишем новость. Теперь мы уверены.",
         "created":"1333118988",
         "views":"14279",
         "comments":"187"
    },  
}
```
### Пояснение параметров ответа
| Параметры | Пояснение |
| --------- | --------- |
| id    | Уникальный индификатор новости.  |
| header | Заголовок новости. |
| text  | Текст новости. |
| created | Время написания новости в unix timestamp. |
| views | Количество просмотров новости. |
| comments | Количество комментарияв к новости. |

# ``` GET /server/launcher/ ``` 
Версия лаунчера.

### Параметры
Параметры не нужны.

### Пример запроса
``` 
http://api.ensemplix.ru/v2/server/launcher/
```
### Пример ответа 
```json 
{"version":"2.0"}
```
### Пояснение параметров ответа
| Параметры | Пояснение |
| --------- | --------- |
| version   | Версия лаунчера. |

# ``` GET /server/bundle/ ``` 
Версия основого плагина. 

### Параметры
Параметры не нужны.

### Пример запроса
``` 
http://api.ensemplix.ru/v2/server/bundle/
```
### Пример ответа 
```json 
{ 
  "bundle_version":"1.2.1",
  "bundle_url":"http://plugins.ensemplix.ru/Bundle-1.2.1.jar"
}
```
### Пояснение параметров ответа
| Параметры | Пояснение |
| --------- | --------- |
| bundle_version   | Версия основого плагина. |
| bundle_url | Сссылка для скачивания плагина, доступная только серверам. |
