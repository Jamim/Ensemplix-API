Магазин
==========
| Метод | Описание | OA2 |
| ----- | -------- |:---:|
| [GET /shops/](shop.md#get-shops) | История магазинов. | - |
| [GET /shops/location/](shop.md#get-shopslocation) | История магазинов в указанном месте. | - |
| [GET /shops/player/:player](shop.md#get-shopsplayerplayer) | История магазина игрока. | - |

# ``` GET /shops/ ``` 
История покупок и продаж в магазин игрока. 
### Параметры запроса
| Параметры | Необходимость | Пояснение |
| --------- | ------------- | --------- |
| offset    | Опционально.  | Начало выборки истории. |
| world     | Опционально.  | Игровой мир. |

### Пример запроса
``` 
http://api.ensemplix.ru/v2/shops/
```
### Пример ответа 
```json 
{"history":[{
      "id":585533,
      "item":"ПЕРО",
      "amount":1,
      "price":8,
      "operation":false,"
      from":"forumsdk",
      "to":"Sheedzu",
      "x":-24,
      "y":64,
      "z":691,
      "world":"Sandbox",
      "created":1389565448,
      "item_id":288,
      "data":0,
      "icon_image":"http://ensemplix.ru/images/items/default.png"
      }]
}      
```
### Пояснение параметров ответа
| Параметры | Пояснение |
| --------- | --------- |
| id        | Уникальный идентификатор операции. |
| item      | Название предмета. |
| amount    | Количество товара. |
| price     | Цена товара. |
| operation | Тип операции. false - покупка. true - продажа. |
| from      | Продавец предмета. |
| to        | Покупатель предмета. |
| x         | Координата расположения магазина по оси X. |
| y         | Координата расположения магазина по оси Y. |
| z         | Координата расположения магазина по оси Z. |
| world     | Игровой мир, где проводилась операция. |
| created   | Время проведения операции в unix timestamp. |
| item_id   | Уникальный идентификатор предмета. |
| data      | Метаданная предмета. |
| icon_image | Ссылка на изображение предмета. |

### Возможные ошибки
| Ошибка | Пояснение |
| ------ | --------- |
| No operations found. | Не было найдено операций с магазином. |

# ``` GET /shops/location ``` 
История покупок и продаж в магазин игрока. 
### Параметры запроса
| Параметры | Необходимость | Пояснение |
| --------- | ------------- | --------- |
| x         | Обязательно.  | Координата по оси X. |
| z         | Обязательно.  | Координата по оси Z. |
| world     | Обязательно.  | Игровой мир. |
| offset    | Опционально.  | Начало выборки истории. |

### Пример запроса
``` 
http://api.ensemplix.ru/v2/shops/location/?x=-24&z=691&world=Sandbox
```
### Пример ответа 
```json 
{"history":[{
      "id":585533,
      "item":"ПЕРО",
      "amount":1,
      "price":8,
      "operation":false,"
      from":"forumsdk",
      "to":"Sheedzu",
      "x":-24,
      "y":64,
      "z":691,
      "world":"Sandbox",
      "created":1389565448,
      "item_id":288,
      "data":0,
      "icon_image":"http://ensemplix.ru/images/items/default.png"
      }]
}      
```
### Пояснение параметров ответа
| Параметры | Пояснение |
| --------- | --------- |
| id        | Уникальный идентификатор операции. |
| item      | Название предмета. |
| amount    | Количество товара. |
| price     | Цена товара. |
| operation | Тип операции. false - покупка. true - продажа. |
| from      | Продавец предмета. |
| to        | Покупатель предмета. |
| x         | Координата расположения магазина по оси X. |
| y         | Координата расположения магазина по оси Y. |
| z         | Координата расположения магазина по оси Z. |
| world     | Игровой мир, где проводилась операция. |
| created   | Время проведения операции в unix timestamp. |
| item_id   | Уникальный идентификатор предмета. |
| data      | Метаданная предмета. |
| icon_image | Ссылка на изображение предмета. |

### Возможные ошибки
| Ошибка | Пояснение |
| ------ | --------- |
| No operations found. | Не было найдено операций с магазином. |
| Please provide X coordinate. | Необходимо указать координату по оси X. |
| Please provide Z coordinate. | Необходимо указать координату по оси Z. |
| Please provide world. | Необходимо указать игровой мир. |

# ``` GET /shops/player/:player/ ``` 
История покупок и продаж в магазин игрока. 
### Параметры запроса
| Параметры | Необходимость | Пояснение |
| --------- | ------------- | --------- |
| player    | Обязательно.  | Игровой ник. |
| world     | Опционально.  | Игровой мир. |
| offset    | Опционально.  | Начало выборки истории. |

### Пример запроса
``` 
http://api.ensemplix.ru/v2/shops/player/Sheedzu/
```
### Пример ответа 
```json 
{"history":[{
      "id":585533,
      "item":"ПЕРО",
      "amount":1,
      "price":8,
      "operation":false,"
      from":"forumsdk",
      "to":"Sheedzu",
      "x":-24,
      "y":64,
      "z":691,
      "world":"Sandbox",
      "created":1389565448,
      "item_id":288,
      "data":0,
      "icon_image":"http://ensemplix.ru/images/items/default.png"
      }]
}      
```
### Пояснение параметров ответа
| Параметры | Пояснение |
| --------- | --------- |
| id        | Уникальный идентификатор операции. |
| item      | Название предмета. |
| amount    | Количество товара. |
| price     | Цена товара. |
| operation | Тип операции. false - покупка. true - продажа. |
| from      | Продавец предмета. |
| to        | Покупатель предмета. |
| x         | Координата расположения магазина по оси X. |
| y         | Координата расположения магазина по оси Y. |
| z         | Координата расположения магазина по оси Z. |
| world     | Игровой мир, где проводилась операция. |
| created   | Время проведения операции в unix timestamp. |
| item_id   | Уникальный идентификатор предмета. |
| data      | Метаданная предмета. |
| icon_image | Ссылка на изображение предмета. |

### Возможные ошибки
| Ошибка | Пояснение |
| ------ | --------- |
| No operations found. | Не было найдено операций с магазином. |
| Please provide player. | Необходимо указать игрока. |
