Сервер
==========

| Метод | Описание | OA2 |
| ----- | -------- |:---:|
| [GET /server/game/](server.md) | Информация о игровых серверах. | - |
| [GET /server/web/](server.md) | Информация о посетителях сайта. | - |
| [GET /server/events/](server.md) | События за последние время на сервере. | - |
| [GET /server/stats/](server.md) | Различная статистика сервера. | - |
| [GET /server/bans/](server.md) | Список забаненных игроков. | - |

## ``` GET /server/game/ ``` 
Информация о игровых серверах. Обновление информации о статусе и игроках происходит раз в минуту.

### Параметры

Параметры не нужны.

### Пример запроса
``` 
http://enapi.ru/2.0/server/game/
```
### Пример ответа 
```json 
{"game":{
    "server":{
         "name":"Sandbox",
         "online":"1",
         "players":"81",
         "maximum":"100",
         "ip":"sv1.ensemplix.ru",
         "port":"25565",
         "version":"1.5.2"
    },
    "server":{
         "name":"Cogito",
         "online":"1",
         "players":"87",
         "maximum":"100",
         "ip":"sv2.ensemplix.ru",
         "port":"25565",
         "version":"1.5.2"
    }    
}
```
### Пояснение параметров ответа
| Параметры | Пояснение |
| --------- | --------- |
| name      | Название сервера. |
| online    | Статус сервера. 1 - доступен. 2 - не доступен. |
| players   | Игроков на сервере. |
| maximum   | Максимальное количество игроков на спавне. |
| ip        | Ip Адрес на котором работает сервер. |
| port      | Порт на котором работает сервер. |
| version   | Версия сервера. |

## ``` GET /server/web/ ``` 
Информация о посетителях сайта

### Параметры

Параметры не нужны.

### Пример запроса
``` 
http://enapi.ru/2.0/server/web/
```
### Пример ответа 
```json 
{"web":{
    "guests":"49",
    "online":"73",
    "players":{
           "ensiriuswOw",
           "ensiriusNyashka",
           "Steb",
           "dosser",
           "qw33"
    },
    "total":"122"
    }
}
```
### Пояснение параметров ответа
| Параметры | Пояснение |
| --------- | --------- |
| guests    | Количество гостей на сайте. |
| online    | Количество игроков на сайте. |
| players   | Список игроков на сайте. |
| total     | Всего посетителей на сайте. |


## ``` GET /server/events/ ``` 
Различные важные события в жизни сервера.

### Параметры
| Параметры | Необходимость | Пояснение |
| --------- | ------------- | --------- |
| offset    | Опционально.  | Начало от куда делать выборку событий. По умолчанию 0. |

### Пример запроса
``` 
http://enapi.ru/2.0/server/events/
```
### Пример ответа 
```json 
{"events":{
         "event":{
            "message":"dosser был исключен из состава модераторов",
            "created":"1377705038"
         },
         "event":{
            "message":"SatoAV приобрел Super-Vip",
            "created":"1377705008"
         }
      }
}
```
### Пояснение параметров ответа
| Параметры | Пояснение |
| --------- | --------- |
| message   | Событие.  |
| created   | Время в unix timestamp когда было создано событие. |

## ``` GET /server/stats/ ``` 
Различная статстика собранная сервером.

### Параметры

Параметры не нужны.

### Пример запроса
``` 
http://enapi.ru/2.0/server/stats/
```
### Пример ответа 
```json 
{"stats":{
      "played":"6546456546",
      "expirence":"4354379097",
      "commands":"243543397",
      "chat":"43543797",
      "coins":"43543797"
      }
}
```

### Статистика
| Параметр | Пояснение |
| --------- | --------- |
| played    | Количество секунд, которое провели на сервере игроки за все время.  |
| expirence | Опыт, который получили все игроки на сервере |
| commands  | Количество выполненых команд всеми игроками |
| chat      | Количетсво сообщений в чат, оставленных всеми игроками |
| coins     | Количество койнов у всех игроков |

## ``` GET /server/bans/ ``` 
Список забаненных игроков на сервере.

### Параметры
| Параметры | Необходимость | Пояснение |
| --------- | ------------- | --------- |
| offset    | Опционально.  | Начало от куда делать выборку событий. По умолчанию 0. |

### Пример запроса
``` 
http://enapi.ru/2.0/server/bans/
```
### Пример ответа 
```json 
{"bans":{
    "ban":{
         "player":"web93onv",
         "reason":"1.4",
         "admin":"ensiriuswOw",
         "till":"1333118988",
    },
    "ban":{
         "player":"Mantis",
         "reason":"1.4",
         "admin":"ensiriuswOw",
         "till":"1333118988",
    },    
}
```
### Пояснение параметров ответа
| Параметры | Пояснение |
| --------- | --------- |
| player    | Забаненный игрок.  |
| reason    | Причина блокировки. |
| admin     | Админ который забанил игрока. |
| till      | Время в unix timestamp когда игрок будет разбанен. Что бы бан снялся, игрок должен зайти на сервер. Если -1, то забаненен навсегда. |

